<html>

   <% if flash[:notice] %>
     <p id="notice">
       <%= flash[:notice] %>
     </p>
   <% end %>

  <header>
    <h1>Books</h1>
  </header>

  <body>
    
    <table class="teble">

      <div class="book_item">
        <h5 class="subtitle1">Title</h5>
        <h5 class="subtitle2">Body</h5>
      </div>

      <% @books.each do |book| %>
        <div class="book_all">
  
          <div class="book_index">
            <p class ="book_title"><%= book.title %></p>
            <p class="book_body"><%= book.body %></p>
          </div>
  
          <div class="book_link">
            <%= link_to "Show",book_path(book) %>
            <%= link_to 'Edit', edit_book_path(book) %>
            <%= link_to "Destroy", book_path(book), method: :delete, data: { confirm: 'Are you sureï¼Ÿ'}, class: "btn btn-lg btn-primary" %>
          </div>
  
        </div>
      <% end %>
    
    </table>

    <div class="new_book">

      <h2>New book</h2>

        <% if @book.errors.any? %>
        <div class="error">
           <div class="error_message">
             <%= @book.errors.count %>error prohibited this book from being saved:
           </div>
          <div class="error_list_box">
           <% @book.errors.full_messages.each do |message| %>
            <ul>
            <li class="error_list"><%= message %></li>
            </ul>
           <% end %>
          </div>
        </div>
        <% end %>

      <%=form_with model:@book,local:true do |f| %>

      <div class="label">
        <div class="field">
          <%= f.label :title %>
          <%= f.text_field :title %>
        </div>
      </div>
      
      <div class="label">
        <div class="field">
          <%= f.label :body %>
          <%= f.text_field :body %>
        </div>
      </div>

        <div class="new_button">
          <%= f.submit 'Create Book' %>
        </div>

      <% end %>

    </div>

  </body>

</html>